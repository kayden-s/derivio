(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75679,e=>{"use strict";function t(e,t,s){var l;l=`calculator_${e}`,window.gtag&&window.gtag("event",l,{calculator_name:t,calculator_slug:s})}e.s(["trackCalculatorEvent",()=>t])},91378,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(71645),a=e.i(22016),r=e.i(75679);function i(){let e,i,o,n,c,d,m,x,u,h,b,p,f,g,y,v,N,j,w,_,k,S,C,K,F,$,R,z,W,A,E,M,P,T,L,D=(0,s.c)(62),[q,B]=(0,l.useState)("55"),[U,H]=(0,l.useState)("200"),[O,Q]=(0,l.useState)("100"),[Y,G]=(0,l.useState)("10000"),[I,J]=(0,l.useState)(!1),[V,X]=(0,l.useState)(null),[Z,ee]=(0,l.useState)(null);D[0]!==O||D[1]!==U||D[2]!==q?(e=()=>{J(!0),ee(null),(0,r.trackCalculatorEvent)("calculate","Kelly Criterion Calculator","kelly-criterion-calculator");let e=Number(q),t=Number(U),s=Number(O);if(!Number.isFinite(e)||!Number.isFinite(t)||!Number.isFinite(s)){X(null),ee("Please enter valid numbers for win rate, average win, and average loss.");return}if(e<=0||e>=100){X(null),ee("Win rate must be between 0% and 100% (exclusive).");return}if(t<=0){X(null),ee("Average win must be greater than $0.");return}if(s<=0){X(null),ee("Average loss must be greater than $0.");return}let l=function(e,t,s){let l;if(e<=0||e>=100||t<=0||s<=0)return null;let a=e/100,r=1-a,i=t/s,o=100*(a-r/i);return l=1e-4>Math.abs(o)?"neutral":o>0?"positive":"negative",{kellyPercent:o,halfKelly:o/2,quarterKelly:o/4,winLossRatio:i,expectancy:a*t-r*s,status:l}}(e,t,s);if(!l){X(null),ee("Unable to calculate Kelly Criterion with the given inputs.");return}X(l)},D[0]=O,D[1]=U,D[2]=q,D[3]=e):e=D[3];let et=e;D[4]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{B("55"),H("200"),Q("100"),G("10000"),J(!1),X(null),ee(null),(0,r.trackCalculatorEvent)("reset","Kelly Criterion Calculator","kelly-criterion-calculator")},D[4]=i):i=D[4];let es=i;if(D[5]!==Y){let e;D[7]===Symbol.for("react.memo_cache_sentinel")?(e=/,/g,D[7]=e):e=D[7],o=Y.replace(e,""),D[5]=Y,D[6]=o}else o=D[6];let el=parseFloat(o);D[8]!==el?(n=Number.isFinite(el)&&el>0,D[8]=el,D[9]=n):n=D[9];let ea=n,er=I&&V&&!Z,ei=I&&Z;return D[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-slate-900 mb-3",children:"Kelly Criterion Calculator"}),d=(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-6 max-w-xl",children:"Calculate the optimal position size using the Kelly Criterion formula. Enter your win rate, average win, and average loss to find the mathematically optimal percentage of your account to risk per trade."}),D[10]=c,D[11]=d):(c=D[10],d=D[11]),D[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Win rate"}),D[12]=m):m=D[12],D[13]===Symbol.for("react.memo_cache_sentinel")?(x=e=>B(e.target.value),D[13]=x):x=D[13],D[14]!==q?(u=(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:q,onChange:x,min:0,max:100,step:"1"}),D[14]=q,D[15]=u):u=D[15],D[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-500",children:"%"}),D[16]=h):h=D[16],D[17]!==u?(b=(0,t.jsxs)("div",{children:[m,(0,t.jsxs)("div",{className:"relative",children:[u,h]})]}),D[17]=u,D[18]=b):b=D[18],D[19]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Account size (optional)"}),D[19]=p):p=D[19],D[20]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xs text-slate-500",children:"$"}),D[20]=f):f=D[20],D[21]===Symbol.for("react.memo_cache_sentinel")?(g=e=>G(e.target.value),D[21]=g):g=D[21],D[22]!==Y?(y=(0,t.jsxs)("div",{children:[p,(0,t.jsxs)("div",{className:"relative",children:[f,(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full rounded-xl border border-slate-300 bg-white pl-7 pr-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:Y,onChange:g,min:0})]})]}),D[22]=Y,D[23]=y):y=D[23],D[24]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Average win"}),D[24]=v):v=D[24],D[25]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xs text-slate-500",children:"$"}),D[25]=N):N=D[25],D[26]===Symbol.for("react.memo_cache_sentinel")?(j=e=>H(e.target.value),D[26]=j):j=D[26],D[27]!==U?(w=(0,t.jsxs)("div",{children:[v,(0,t.jsxs)("div",{className:"relative",children:[N,(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full rounded-xl border border-slate-300 bg-white pl-7 pr-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:U,onChange:j,min:0,step:"0.01"})]})]}),D[27]=U,D[28]=w):w=D[28],D[29]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Average loss"}),D[29]=_):_=D[29],D[30]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xs text-slate-500",children:"$"}),D[30]=k):k=D[30],D[31]===Symbol.for("react.memo_cache_sentinel")?(S=e=>Q(e.target.value),D[31]=S):S=D[31],D[32]!==O?(C=(0,t.jsxs)("div",{children:[_,(0,t.jsxs)("div",{className:"relative",children:[k,(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full rounded-xl border border-slate-300 bg-white pl-7 pr-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:O,onChange:S,min:0,step:"0.01"})]})]}),D[32]=O,D[33]=C):C=D[33],D[34]!==b||D[35]!==y||D[36]!==w||D[37]!==C?(K=(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[b,y,w,C]}),D[34]=b,D[35]=y,D[36]=w,D[37]=C,D[38]=K):K=D[38],D[39]!==et?(F=(0,t.jsx)("button",{onClick:et,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-5 py-2.5 text-sm font-semibold text-white shadow-md hover:bg-slate-800 transition",children:"Calculate Kelly %"}),D[39]=et,D[40]=F):F=D[40],D[41]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsx)("button",{onClick:es,className:"inline-flex items-center justify-center rounded-full border border-slate-300 px-4 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50 transition",children:"Reset"}),D[41]=$):$=D[41],D[42]!==F?(R=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[F,$]}),D[42]=F,D[43]=R):R=D[43],D[44]!==Z||D[45]!==ei?(z=ei&&(0,t.jsx)("div",{className:"mb-6 rounded-xl bg-rose-50 border border-rose-200 p-4 text-sm text-rose-700",children:Z}),D[44]=Z,D[45]=ei,D[46]=z):z=D[46],D[47]!==el||D[48]!==ea||D[49]!==V||D[50]!==er?(W=(0,t.jsx)("div",{className:"rounded-3xl bg-white border border-slate-200 shadow-sm p-5",children:er?"positive"===V.status?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-baseline gap-2 mb-4",children:[(0,t.jsx)("span",{className:"text-xs font-medium tracking-wide text-slate-500 uppercase",children:"Full Kelly"}),(0,t.jsxs)("span",{className:"text-3xl font-semibold text-slate-900",children:[V.kellyPercent.toFixed(2),"%"]}),(0,t.jsx)("span",{className:"text-sm text-slate-500",children:"of account per trade"})]}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-slate-600 mb-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-100 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Half Kelly"}),(0,t.jsxs)("div",{className:"font-semibold text-slate-900",children:[V.halfKelly.toFixed(2),"%"]}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:ea?`$${(V.halfKelly/100*el).toLocaleString(void 0,{maximumFractionDigits:0})}`:"—"})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-100 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Quarter Kelly"}),(0,t.jsxs)("div",{className:"font-semibold text-slate-900",children:[V.quarterKelly.toFixed(2),"%"]}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:ea?`$${(V.quarterKelly/100*el).toLocaleString(void 0,{maximumFractionDigits:0})}`:"—"})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-100 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Win/Loss Ratio"}),(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:V.winLossRatio.toFixed(2)})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-emerald-50 border border-emerald-100 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-600 mb-1",children:"Expectancy"}),(0,t.jsxs)("div",{className:"font-semibold text-emerald-700",children:["+$",V.expectancy.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-emerald-600",children:"per trade"})]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Most traders use Half Kelly or Quarter Kelly to reduce volatility. Full Kelly maximizes long-term growth but can have large drawdowns."})]}):"neutral"===V.status?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("div",{className:"text-slate-700 font-semibold mb-2",children:"No Edge Detected"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Kelly Criterion is 0.00%. With these stats, the strategy has no mathematical edge. The optimal position size is zero."})]}):(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("div",{className:"text-rose-600 font-semibold mb-2",children:"Negative Edge Detected"}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["Kelly Criterion is ",V.kellyPercent.toFixed(2),"%. With these stats, the math says don't trade this strategy. Your expected value is −$",Math.abs(V.expectancy).toFixed(2)," per trade."]})]}):(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Enter your win rate, average win, and average loss, then click"," ",(0,t.jsx)("span",{className:"font-semibold",children:"Calculate Kelly %"})," to see the optimal position size."]})}),D[47]=el,D[48]=ea,D[49]=V,D[50]=er,D[51]=W):W=D[51],D[52]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Related Tools"}),D[52]=A):A=D[52],D[53]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsxs)(a.default,{href:"/tools/position-size-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Position Size Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Apply Kelly % to calculate exact position size"})]}),D[53]=E):E=D[53],D[54]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsxs)(a.default,{href:"/tools/risk-of-ruin-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Risk of Ruin Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"See probability of account blowup at this risk level"})]}),D[54]=M):M=D[54],D[55]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsxs)("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-200 p-5",children:[A,(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[E,M,(0,t.jsxs)(a.default,{href:"/tools/breakeven-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Breakeven Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Find minimum win rate needed to profit"})]})]})]}),D[55]=P):P=D[55],D[56]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsxs)("div",{className:"mt-6 rounded-2xl bg-slate-100 border border-slate-200 p-4",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Kelly Criterion Formula"}),(0,t.jsx)("p",{className:"text-xs text-slate-600 font-mono",children:"Kelly % = W - [(1 - W) / R]"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Where W = win rate and R = avg win / avg loss"})]}),D[56]=T):T=D[56],D[57]!==K||D[58]!==R||D[59]!==z||D[60]!==W?(L=(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[c,d,K,R,z,W,P,T]}),D[57]=K,D[58]=R,D[59]=z,D[60]=W,D[61]=L):L=D[61],L}e.s(["default",()=>i])}]);