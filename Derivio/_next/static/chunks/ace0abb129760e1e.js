(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75679,e=>{"use strict";function t(e,t,s){var a;a=`calculator_${e}`,window.gtag&&window.gtag("event",a,{calculator_name:t,calculator_slug:s})}e.s(["trackCalculatorEvent",()=>t])},47696,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645),r=e.i(22016),l=e.i(75679);let o={daily:{label:"Daily (252 trading days)",factor:252},weekly:{label:"Weekly (52 weeks)",factor:52},monthly:{label:"Monthly (12 months)",factor:12}};function n(){let e,n,d,m,u,x,h,b,f,p,g,y,v,j,N,w,k,S,_,R,C,F,M,A,q,E,P,D,z,T,B,K,O,U,W,$,Y,G,H,I,J=(0,s.c)(69),[L,Q]=(0,a.useState)(""),[V,X]=(0,a.useState)(""),[Z,ee]=(0,a.useState)("daily"),[et,es]=(0,a.useState)(""),[ea,er]=(0,a.useState)(!1),[el,eo]=(0,a.useState)(null),[en,ei]=(0,a.useState)(null);J[0]!==Z||J[1]!==L||J[2]!==V?(e=()=>{var e;let t,s,a,r,n,i,c;er(!0),ei(null),(0,l.trackCalculatorEvent)("calculate","Sortino Ratio Calculator","sortino-ratio-calculator");let d=L.split(/[,\n]+/).map(e=>e.trim()).filter(e=>""!==e).map(e=>parseFloat(e)).filter(e=>!Number.isNaN(e)).map(e=>e/100);if(""===L.trim()){eo(null),ei("Please enter at least two valid return values.");return}if(d.length<2){eo(null),ei("At least two valid return values are required.");return}let m=""===V.trim()?0:parseFloat(V);if(!Number.isFinite(m)){eo(null),ei("Please enter a valid risk-free rate.");return}let u=o[Z];if(!u){eo(null),ei("Please select a valid frequency.");return}let x=m/100/u.factor;if(0===Math.sqrt(d.reduce((e,t)=>{let s=Math.min(0,t-x);return e+s*s},0)/d.length)){eo(null),ei("Cannot compute Sortino Ratio because downside deviation is zero.");return}let h=(e=u.factor,t=d.length,s=d.reduce((e,t)=>e+t,0)/t,a=m/100/e,r=Math.sqrt(d.reduce((e,t)=>{let s=Math.min(0,t-a);return e+s*s},0)/t),c=(i=(n=s-a)/r)*Math.sqrt(e),{riskFreeRate:m,frequency:Z,frequencyFactor:e,sortinoAnnual:c,sortinoPeriodic:i,meanReturn:s,meanExcessReturn:n,downsideDeviation:r,numPeriods:t});if(!h||!Number.isFinite(h.sortinoAnnual)||!Number.isFinite(h.sortinoPeriodic)||!Number.isFinite(h.meanReturn)||!Number.isFinite(h.meanExcessReturn)||!Number.isFinite(h.downsideDeviation)||!Number.isFinite(h.numPeriods)){eo(null),ei("Calculation error. Please check your inputs.");return}eo(h)},J[0]=Z,J[1]=L,J[2]=V,J[3]=e):e=J[3];let ec=e;J[4]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{Q(""),X(""),ee("daily"),es(""),er(!1),eo(null),ei(null),(0,l.trackCalculatorEvent)("reset","Sortino Ratio Calculator","sortino-ratio-calculator")},J[4]=n):n=J[4];let ed=n,em=ea&&el&&!en,eu=ea&&!!en,ex=c;return J[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-slate-900 mb-3",children:"Sortino Ratio Calculator"}),m=(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-6 max-w-xl",children:"Measure your strategy's risk-adjusted performance using the Sortino Ratio. Enter your returns, risk-free rate, and frequency to see your annualized downside-risk-adjusted return."}),J[5]=d,J[6]=m):(d=J[5],m=J[6]),J[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Returns (%)"}),J[7]=u):u=J[7],J[8]===Symbol.for("react.memo_cache_sentinel")?(x=e=>Q(e.target.value),J[8]=x):x=J[8],J[9]!==L?(h=(0,t.jsx)("textarea",{className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500 min-h-[80px]",value:L,onChange:x,placeholder:"e.g. 1.2, -0.5, 0.8, 0.4, -1.1"}),J[9]=L,J[10]=h):h=J[10],J[11]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Enter periodic returns as percentages (e.g. 1.2 = 1.2%), separated by commas or new lines"}),J[11]=b):b=J[11],J[12]!==h?(f=(0,t.jsxs)("div",{children:[u,h,b]}),J[12]=h,J[13]=f):f=J[13],J[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Risk-free rate (annual)"}),J[14]=p):p=J[14],J[15]===Symbol.for("react.memo_cache_sentinel")?(g=e=>X(e.target.value),J[15]=g):g=J[15],J[16]!==V?(y=(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:V,onChange:g,placeholder:"e.g. 5",step:"0.1"}),J[16]=V,J[17]=y):y=J[17],J[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-500",children:"%"}),J[18]=v):v=J[18],J[19]!==y?(j=(0,t.jsxs)("div",{className:"relative",children:[y,v]}),J[19]=y,J[20]=j):j=J[20],J[21]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Use your benchmark risk-free rate (e.g. T-bills)"}),J[21]=N):N=J[21],J[22]!==j?(w=(0,t.jsxs)("div",{children:[p,j,N]}),J[22]=j,J[23]=w):w=J[23],J[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Return frequency"}),J[24]=k):k=J[24],J[25]===Symbol.for("react.memo_cache_sentinel")?(S=e=>ee(e.target.value),_=Object.entries(o).map(i),J[25]=S,J[26]=_):(S=J[25],_=J[26]),J[27]!==Z?(R=(0,t.jsx)("select",{className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:Z,onChange:S,children:_}),J[27]=Z,J[28]=R):R=J[28],J[29]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Select the frequency of your return data"}),J[29]=C):C=J[29],J[30]!==R?(F=(0,t.jsxs)("div",{children:[k,R,C]}),J[30]=R,J[31]=F):F=J[31],J[32]!==w||J[33]!==F?(M=(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[w,F]}),J[32]=w,J[33]=F,J[34]=M):M=J[34],J[35]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Strategy name (optional)"}),J[35]=A):A=J[35],J[36]===Symbol.for("react.memo_cache_sentinel")?(q=e=>es(e.target.value),J[36]=q):q=J[36],J[37]!==et?(E=(0,t.jsxs)("div",{children:[A,(0,t.jsx)("input",{type:"text",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",value:et,onChange:q,placeholder:"e.g. My trading strategy"})]}),J[37]=et,J[38]=E):E=J[38],J[39]!==M||J[40]!==E||J[41]!==f?(P=(0,t.jsxs)("div",{className:"grid gap-4 mb-4",children:[f,M,E]}),J[39]=M,J[40]=E,J[41]=f,J[42]=P):P=J[42],J[43]!==ec?(D=(0,t.jsx)("button",{onClick:ec,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-5 py-2.5 text-sm font-semibold text-white shadow-md hover:bg-slate-800 transition",children:"Calculate Sortino Ratio"}),J[43]=ec,J[44]=D):D=J[44],J[45]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)("button",{onClick:ed,className:"inline-flex items-center justify-center rounded-full border border-slate-300 px-4 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50 transition",children:"Reset"}),J[45]=z):z=J[45],J[46]!==D?(T=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[D,z]}),J[46]=D,J[47]=T):T=J[47],J[48]!==en||J[49]!==eu?(B=eu&&(0,t.jsx)("div",{className:"mb-6 rounded-xl bg-rose-50 border border-rose-200 p-4 text-sm text-rose-700",children:en}),J[48]=en,J[49]=eu,J[50]=B):B=J[50],J[51]!==el||J[52]!==eu||J[53]!==em||J[54]!==et?(K=em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-xs font-medium tracking-wide text-slate-500 uppercase mb-1",children:"Risk-adjusted performance"}),(0,t.jsxs)("div",{className:"text-2xl font-semibold text-slate-900 mb-4",children:["Annualized Sortino Ratio: ",el.sortinoAnnual.toFixed(2)]}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-200 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Sortino Ratio"}),(0,t.jsx)("div",{className:"font-semibold text-xl text-slate-900",children:el.sortinoAnnual.toFixed(2)}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"annualized"})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-300 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Mean Return"}),(0,t.jsx)("div",{className:"font-semibold text-xl text-slate-900",children:ex(el.meanReturn)}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"per period"})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-200 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Downside Deviation"}),(0,t.jsx)("div",{className:"font-semibold text-xl text-slate-900",children:ex(el.downsideDeviation)}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"std dev of downside"})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-200 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Excess Return"}),(0,t.jsx)("div",{className:"font-semibold text-xl text-slate-900",children:ex(el.meanExcessReturn)}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"above risk-free"})]})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 bg-slate-50 rounded-xl p-3",children:et?(0,t.jsxs)(t.Fragment,{children:['Your strategy "',et,'" has an annualized Sortino Ratio of'," ",(0,t.jsx)("span",{className:"font-semibold",children:el.sortinoAnnual.toFixed(2)}),", meaning it earned about"," ",(0,t.jsxs)("span",{className:"font-semibold",children:[Math.abs(el.sortinoAnnual).toFixed(2)," units of ",el.sortinoAnnual>=0?"excess":"negative"," return for every unit of downside volatility"]}),"."," ","Based on ",el.numPeriods," periods of data. Sortino ratios vary widely by strategy and market regime; compare against your own benchmarks."]}):(0,t.jsxs)(t.Fragment,{children:["This strategy has an annualized Sortino Ratio of"," ",(0,t.jsx)("span",{className:"font-semibold",children:el.sortinoAnnual.toFixed(2)}),", meaning it earned about"," ",(0,t.jsxs)("span",{className:"font-semibold",children:[Math.abs(el.sortinoAnnual).toFixed(2)," units of ",el.sortinoAnnual>=0?"excess":"negative"," return for every unit of downside volatility"]}),"."," ","Based on ",el.numPeriods," periods of data. Sortino ratios vary widely by strategy and market regime; compare against your own benchmarks."]})})]}):eu?null:(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Enter your return series, risk-free rate, and frequency, then click"," ",(0,t.jsx)("span",{className:"font-semibold",children:"Calculate Sortino Ratio"})," to see your downside-risk-adjusted performance metrics."]}),J[51]=el,J[52]=eu,J[53]=em,J[54]=et,J[55]=K):K=J[55],J[56]!==K?(O=(0,t.jsx)("div",{className:"rounded-3xl bg-white border border-slate-200 shadow-sm p-5",children:K}),J[56]=K,J[57]=O):O=J[57],J[58]===Symbol.for("react.memo_cache_sentinel")?(U=(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Related Tools"}),J[58]=U):U=J[58],J[59]===Symbol.for("react.memo_cache_sentinel")?(W=(0,t.jsxs)(r.default,{href:"/tools/sharpe-ratio-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Sharpe Ratio Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Measure risk-adjusted return using total volatility"})]}),J[59]=W):W=J[59],J[60]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsxs)(r.default,{href:"/tools/risk-of-ruin-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Risk of Ruin Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Calculate probability of account blowup"})]}),J[60]=$):$=J[60],J[61]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,t.jsxs)("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-200 p-5",children:[U,(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[W,$,(0,t.jsxs)(r.default,{href:"/tools/kelly-criterion-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Kelly Criterion Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Find optimal position size for your edge"})]})]})]}),J[61]=Y):Y=J[61],J[62]===Symbol.for("react.memo_cache_sentinel")?(G=(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Sortino Ratio Formula"}),J[62]=G):G=J[62],J[63]===Symbol.for("react.memo_cache_sentinel")?(H=(0,t.jsxs)("div",{className:"mt-6 rounded-2xl bg-slate-100 border border-slate-200 p-4",children:[G,(0,t.jsxs)("div",{className:"text-xs text-slate-600 space-y-1 font-mono",children:[(0,t.jsx)("p",{children:"Excess Return = Return - Risk-free Rate"}),(0,t.jsx)("p",{children:"Downside Deviation = sqrt( sum( min(0, r - Rf)² ) / N )"}),(0,t.jsx)("p",{children:"Sortino (periodic) = Mean Excess Return / Downside Deviation"}),(0,t.jsx)("p",{children:"Sortino (annual) = Sortino (periodic) × √(periods per year)"})]}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-2",children:"Where N = total number of periods, only negative deviations count toward downside"})]}),J[63]=H):H=J[63],J[64]!==P||J[65]!==T||J[66]!==B||J[67]!==O?(I=(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[d,m,P,T,B,O,Y,H]}),J[64]=P,J[65]=T,J[66]=B,J[67]=O,J[68]=I):I=J[68],I}function i(e){let[s,a]=e,{label:r}=a;return(0,t.jsx)("option",{value:s,children:r},s)}function c(e){return`${(100*e).toFixed(3)}%`}e.s(["default",()=>n])}]);