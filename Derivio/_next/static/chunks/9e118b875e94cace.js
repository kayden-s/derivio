(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75679,e=>{"use strict";function t(e,t,s){var l;l=`calculator_${e}`,window.gtag&&window.gtag("event",l,{calculator_name:t,calculator_slug:s})}e.s(["trackCalculatorEvent",()=>t])},15028,e=>{"use strict";var t=e.i(43476),s=e.i(932),l=e.i(71645),r=e.i(22016),a=e.i(75679);function i(){return Math.random().toString(36).substring(2,9)}function n(){let e,n,p,h,b,f,g,k,v,j,N,y,I,O,w,S,_,C,P,F,M,$,T,R,E,A,B,K,U=(0,s.c)(49);U[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""}],U[0]=e):e=U[0];let[z,L]=(0,l.useState)(e),[V,q]=(0,l.useState)(""),[D,G]=(0,l.useState)(!1),[H,J]=(0,l.useState)(null),[Q,W]=(0,l.useState)(null);U[1]!==V||U[2]!==z?(n=()=>{let e;G(!0),W(null),(0,a.trackCalculatorEvent)("calculate","Max Pain Calculator","max-pain-calculator");let t=z.filter(x);if(t.length<2){J(null),W("Please enter at least 2 strikes to calculate max pain.");return}let s=[];for(let e of t){let t=parseFloat(e.strike),l=parseInt(e.callOI,10),r=parseInt(e.putOI,10);if(!Number.isFinite(t)||t<=0){J(null),W("Please enter valid strike prices (greater than 0).");return}let a=""===e.callOI.trim()?0:l;if(""!==e.callOI.trim()&&!Number.isFinite(l)){J(null),W("Call open interest values must be valid numbers.");return}if(a<0){J(null),W("Call open interest values must be non-negative.");return}let i=""===e.putOI.trim()?0:r;if(""!==e.putOI.trim()&&!Number.isFinite(r)){J(null),W("Put open interest values must be valid numbers.");return}if(i<0){J(null),W("Put open interest values must be non-negative.");return}s.push({strike:t,callOI:a,putOI:i})}if(new Set(s.map(u)).size<2){J(null),W("Please enter at least 2 different strike prices.");return}if(""!==V.trim()){let t=parseFloat(V);if(!Number.isFinite(t)||t<=0){J(null),W("Current price must be a valid number greater than 0.");return}e=t}let l=function(e){let t=[...e].sort((e,t)=>e.strike-t.strike);if(0===t.length)return null;let s=t.map(e=>{let s=0;return t.forEach(t=>{e.strike>t.strike&&(s+=(e.strike-t.strike)*t.callOI*100),e.strike<t.strike&&(s+=(t.strike-e.strike)*t.putOI*100)}),{strike:e.strike,pain:s,callOI:e.callOI,putOI:e.putOI}}),l=s.reduce((e,t)=>t.pain<e.pain?t:e),r=t.reduce((e,t)=>e+t.callOI,0),a=t.reduce((e,t)=>e+t.putOI,0);return{maxPainStrike:l.strike,painByStrike:s,totalCallOI:r,totalPutOI:a,putCallRatio:r>0?a/r:null}}(s);if(!l||!Number.isFinite(l.maxPainStrike)||!Number.isFinite(l.totalCallOI)||!Number.isFinite(l.totalPutOI)||null!==l.putCallRatio&&!Number.isFinite(l.putCallRatio)||l.painByStrike.some(m)){J(null),W("Calculation error. Please check your inputs.");return}J({...l,currentPrice:e})},U[1]=V,U[2]=z,U[3]=n):n=U[3];let X=n;U[4]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{L([{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""},{id:i(),strike:"",callOI:"",putOI:""}]),q(""),G(!1),J(null),W(null),(0,a.trackCalculatorEvent)("reset","Max Pain Calculator","max-pain-calculator")},U[4]=p):p=U[4];let Y=p;U[5]===Symbol.for("react.memo_cache_sentinel")?(h=(e,t,s)=>{L(l=>l.map(l=>l.id===e?{...l,[t]:s}:l))},U[5]=h):h=U[5];let Z=h;U[6]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{L(d)},U[6]=b):b=U[6];let ee=b;U[7]!==z.length?(f=e=>{z.length>1&&L(t=>t.filter(t=>t.id!==e))},U[7]=z.length,U[8]=f):f=U[8];let et=f,es=D&&H&&!Q,el=D&&Q,er=c;if(U[9]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-slate-900 mb-3",children:"Max Pain Calculator"}),k=(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-6 max-w-xl",children:"Calculate the max pain strike price where option holders lose the most money. Enter strike prices with their open interest from your broker or options chain."}),U[9]=g,U[10]=k):(g=U[9],k=U[10]),U[11]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsxs)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:["Current stock price ",(0,t.jsx)("span",{className:"text-slate-400",children:"(optional, for reference)"})]}),U[11]=v):v=U[11],U[12]===Symbol.for("react.memo_cache_sentinel")?(j=e=>q(e.target.value),U[12]=j):j=U[12],U[13]!==V?(N=(0,t.jsxs)("div",{className:"mb-4",children:[v,(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full max-w-xs rounded-xl border border-slate-300 bg-white px-3 py-2.5 text-sm text-slate-900 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",placeholder:"e.g. 175.50",value:V,onChange:j,min:0,step:"0.01"})]}),U[13]=V,U[14]=N):N=U[14],U[15]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_1fr_auto] gap-2 mb-2 text-xs font-medium text-slate-500 uppercase tracking-wide",children:[(0,t.jsx)("div",{children:"Strike"}),(0,t.jsx)("div",{children:"Call OI"}),(0,t.jsx)("div",{children:"Put OI"}),(0,t.jsx)("div",{className:"w-8"})]}),U[15]=y):y=U[15],U[16]!==et||U[17]!==z){let e;U[19]!==et?(e=e=>(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_1fr_auto] gap-2",children:[(0,t.jsx)("input",{type:"number",inputMode:"decimal",className:"w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",placeholder:"Strike",value:e.strike,onChange:t=>Z(e.id,"strike",t.target.value),min:0,step:"0.5"}),(0,t.jsx)("input",{type:"number",inputMode:"numeric",className:"w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",placeholder:"Call OI",value:e.callOI,onChange:t=>Z(e.id,"callOI",t.target.value),min:0,step:1}),(0,t.jsx)("input",{type:"number",inputMode:"numeric",className:"w-full rounded-lg border border-slate-300 bg-white px-2 py-2 text-sm text-slate-900 focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",placeholder:"Put OI",value:e.putOI,onChange:t=>Z(e.id,"putOI",t.target.value),min:0,step:1}),(0,t.jsx)("button",{onClick:()=>et(e.id),className:"w-8 h-9 flex items-center justify-center rounded-lg text-slate-400 hover:text-rose-500 hover:bg-rose-50 transition",title:"Remove strike",children:"×"})]},e.id),U[19]=et,U[20]=e):e=U[20],I=z.map(e),U[16]=et,U[17]=z,U[18]=I}else I=U[18];return U[21]!==I?(O=(0,t.jsx)("div",{className:"space-y-2",children:I}),U[21]=I,U[22]=O):O=U[22],U[23]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)("button",{onClick:ee,className:"mt-3 text-xs font-medium text-sky-600 hover:text-sky-700 transition",children:"+ Add strike"}),U[23]=w):w=U[23],U[24]!==O?(S=(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 mb-6",children:[y,O,w]}),U[24]=O,U[25]=S):S=U[25],U[26]!==X?(_=(0,t.jsx)("button",{onClick:X,className:"inline-flex items-center justify-center rounded-full bg-slate-900 px-5 py-2.5 text-sm font-semibold text-white shadow-md hover:bg-slate-800 transition",children:"Calculate max pain"}),U[26]=X,U[27]=_):_=U[27],U[28]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)("button",{onClick:Y,className:"inline-flex items-center justify-center rounded-full border border-slate-300 px-4 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50 transition",children:"Reset"}),U[28]=C):C=U[28],U[29]!==_?(P=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[_,C]}),U[29]=_,U[30]=P):P=U[30],U[31]!==Q||U[32]!==el?(F=el&&(0,t.jsx)("div",{className:"mb-6 rounded-xl bg-rose-50 border border-rose-200 p-4 text-sm text-rose-700",children:Q}),U[31]=Q,U[32]=el,U[33]=F):F=U[33],U[34]!==H||U[35]!==es?(M=(0,t.jsx)("div",{className:"rounded-3xl bg-white border border-slate-200 shadow-sm p-5",children:es&&H?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-wrap items-baseline gap-2 mb-1",children:(0,t.jsx)("span",{className:"text-xs font-medium tracking-wide text-slate-500 uppercase",children:"Max Pain Strike"})}),(0,t.jsxs)("div",{className:"flex flex-wrap items-baseline gap-2 mb-4",children:[(0,t.jsxs)("span",{className:"text-3xl font-semibold text-slate-900",children:["$",H.maxPainStrike.toFixed(2)]}),H.currentPrice&&(0,t.jsx)("span",{className:"text-sm text-slate-600",children:H.currentPrice>H.maxPainStrike?`${((H.currentPrice-H.maxPainStrike)/H.maxPainStrike*100).toFixed(1)}% above`:H.currentPrice<H.maxPainStrike?`${((H.maxPainStrike-H.currentPrice)/H.maxPainStrike*100).toFixed(1)}% below`:"at max pain"})]}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4 text-sm text-slate-600 mb-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-200 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Total Call OI"}),(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:er(H.totalCallOI)})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-300 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Total Put OI"}),(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:er(H.totalPutOI)})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-slate-50 border border-slate-200 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Put/Call Ratio"}),null!==H.putCallRatio?(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:H.putCallRatio.toFixed(2)}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:"N/A"}),(0,t.jsx)("div",{className:"text-xs text-slate-400 mt-0.5",children:"Total call OI is 0"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-100 pt-4 mt-4",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-slate-500 mb-2",children:"Pain by strike"}),(0,t.jsx)("div",{className:"space-y-1",children:H.painByStrike.map(e=>{let s=Math.max(...H.painByStrike.map(o)),l=s>0?e.pain/s*100:0,r=e.strike===H.maxPainStrike;return(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,t.jsxs)("div",{className:`w-16 font-medium ${r?"text-slate-900":"text-slate-600"}`,children:["$",e.strike.toFixed(2)]}),(0,t.jsx)("div",{className:"flex-1 h-5 bg-slate-100 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all ${r?"bg-slate-700":"bg-slate-300"}`,style:{width:`${Math.max(l,2)}%`}})}),(0,t.jsx)("div",{className:`w-16 text-right ${r?"text-slate-900 font-semibold":"text-slate-500"}`,children:function(e){return e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}K`:`$${e.toFixed(0)}`}(e.pain)})]},e.strike)})})]})]}):(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Enter strike prices with their call and put open interest, then click"," ",(0,t.jsx)("span",{className:"font-semibold",children:"Calculate max pain"})," to find the strike where option holders lose the most."]})}),U[34]=H,U[35]=es,U[36]=M):M=U[36],U[37]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-700 mb-4",children:"Related Tools"}),U[37]=$):$=U[37],U[38]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsxs)(r.default,{href:"/tools/options-probability-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Options Probability Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Estimate chance of expiring ITM or OTM"})]}),U[38]=T):T=U[38],U[39]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsxs)(r.default,{href:"/tools/options-profit-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Options P/L Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Calculate options profit/loss at expiration"})]}),U[39]=R):R=U[39],U[40]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsxs)("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-200 p-5",children:[$,(0,t.jsxs)("div",{className:"grid sm:grid-cols-3 gap-3",children:[T,R,(0,t.jsxs)(r.default,{href:"/tools/expected-move-calculator",className:"group rounded-xl border border-slate-200 bg-white p-3 hover:border-slate-300 hover:shadow-md transition",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-slate-900 group-hover:text-sky-600 transition mb-1",children:"Expected Move Calculator"}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Calculate expected price range from IV"})]})]})]}),U[40]=E):E=U[40],U[41]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)("h2",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Max Pain Theory"}),U[41]=A):A=U[41],U[42]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsxs)("div",{className:"mt-6 rounded-2xl bg-slate-100 border border-slate-200 p-4",children:[A,(0,t.jsxs)("div",{className:"text-xs text-slate-600 space-y-1",children:[(0,t.jsx)("p",{children:"Max pain is the strike price where option buyers lose the most money at expiration."}),(0,t.jsx)("p",{children:"At this price, the maximum number of options expire worthless, benefiting option sellers."}),(0,t.jsx)("p",{className:"font-mono mt-2",children:"Pain = Σ (ITM amount × OI × 100)"})]})]}),U[42]=B):B=U[42],U[43]!==N||U[44]!==S||U[45]!==P||U[46]!==F||U[47]!==M?(K=(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[g,k,N,S,P,F,M,E,B]}),U[43]=N,U[44]=S,U[45]=P,U[46]=F,U[47]=M,U[48]=K):K=U[48],K}function o(e){return e.pain}function c(e){return e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString()}function d(e){return[...e,{id:i(),strike:"",callOI:"",putOI:""}]}function m(e){return!Number.isFinite(e.pain)}function u(e){return e.strike}function x(e){return""!==e.strike.trim()||""!==e.callOI.trim()||""!==e.putOI.trim()}e.s(["default",()=>n])}]);